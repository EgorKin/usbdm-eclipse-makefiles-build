<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<!DOCTYPE root SYSTEM "../../package.dtd"
[
<!ENTITY DEVICE_FAMILY "MK">
]>

<projectActionList id="CPP-abstraction-common-&DEVICE_FAMILY;">
   <applyWhen>
      <variableRef idRef="projectOptionValue.CPP-abstraction" />
   </applyWhen>

<!--
   <projectOption id="net.sourceforge.usbdm.cdt.toolchain.optimization.level" config="debug">
      <value>net.sourceforge.usbdm.gnu.c.optimization.level.optimize</value>
   </projectOption>
-->

   <deleteResource target="Project_Headers/Board_LEDs.h" />
   <deleteResource target="Project_Headers/leds.h" />
   <deleteResource target="Sources/leds.cpp" />
   <deleteResource target="Startup_Code/vectors.c" />
   <deleteResource target="Startup_Code/clock.c" />
   <deleteResource target="Startup_Code/console.c" />
   <deleteResource target="Startup_Code/system.c" />

   <createFolder        target="Snippets" />
   <excludeSourceFolder target="Snippets" />

   <copy source="Startup_Code/system-gcc.cpp"            target="Startup_Code/system-gcc.cpp"            overwrite="true"  derived="true" />
   <copy source="Startup_Code/vectors-cm4.cpp"           target="Startup_Code/vectors.cpp"               overwrite="true"  derived="true" macroReplace="false"  />
   <copy source="Startup_Code/console.cpp"               target="Startup_Code/console.cpp"               overwrite="true"  derived="true" />
   <copy source="Startup_Code/system.cpp"                target="Startup_Code/system.cpp"                overwrite="true"  derived="true" />
   
   <copy source="Project_Headers/system.h"               target="Project_Headers/system.h"               overwrite="true"  derived="true" />

   <copy source="Project_Headers/USBDM_Documentation.h"  target="Project_Headers/USBDM_Documentation.h"  overwrite="true"  derived="true" />
   <copy source="Project_Headers/pcr-&DEVICE_FAMILY;.h"  target="Project_Headers/pcr.h"                  overwrite="true"  derived="true" />
   <copy source="Project_Headers/gpio-&DEVICE_FAMILY;.h" target="Project_Headers/gpio.h"                 overwrite="true"  derived="true" />
   <copy source="Sources/main.cpp"                       target="Sources/main.cpp"                       overwrite="true" />

   <copy source="projectFiles/Configure.usbdmProject"    target="Configure.usbdmProject" />
</projectActionList>
