<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fragment SYSTEM "_menu.dtd" >
<!-- _irqOption.xml -->

<fragment xmlns:xi="http://www.w3.org/2001/XInclude">

   <choiceOption name="irqHandlingMethod" 
      description="Method used to install interrupt handler in vector table"
      toolTip="This selection allow the interrupt handler for this peripheral to be installed using several different methods">
      <choice value="0" name="No handler" />
      <choice value="1" name="Software (Use setCallback() or override class method)" />
      <choice value="2" name="User function (set name below)" />
   </choiceOption>

   <stringOption name="namedInterruptHandler" 
      description="Name of C function used as IRQ handler"
      value=""
      toolTip="This is the name of a function to be installed in the vector table as the interrupt handler for this peripheral"
   />
   
   <template><![CDATA[
       \t//! Class based callback handler has been installed in vector table\n
       \tstatic constexpr bool irqHandlerInstalled = ($(irqHandlingMethod) == 1);\n\n
   ]]></template>
       
   <intOption name="irqLevel" 
      description="IRQ Level in NVIC [0-15]"
      toolTip="Sets the priority level used to configure the NVIC"
      value="0" min="0" max="15" 
   />

   <template><![CDATA[
       \t//! Default IRQ level\n
       \tstatic constexpr uint32_t irqLevel =  $(irqLevel);\n\n
   ]]></template>
      
</fragment>
